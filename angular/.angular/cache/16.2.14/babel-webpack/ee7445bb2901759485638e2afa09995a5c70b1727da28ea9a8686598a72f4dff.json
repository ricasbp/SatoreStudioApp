{"ast":null,"code":"'use strict';\n\nvar node_dgram = require('node:dgram');\nvar oscMin = require('osc-min');\nvar Message = require('./Message.js');\nconst {\n  toBuffer\n} = oscMin;\nclass Client {\n  constructor(host, port) {\n    this.host = host;\n    this.port = port;\n    this._sock = node_dgram.createSocket({\n      type: 'udp4',\n      reuseAddr: true\n    });\n  }\n  close(cb) {\n    this._sock.close(cb);\n  }\n  send(...args) {\n    let message = args[0];\n    let callback;\n    if (typeof args[args.length - 1] === 'function') {\n      callback = args.pop();\n    } else {\n      callback = () => {};\n    }\n    if (message instanceof Array) {\n      message = {\n        address: message[0],\n        args: message.splice(1)\n      };\n    }\n    let mes;\n    let buf;\n    try {\n      switch (typeof message) {\n        case 'object':\n          buf = toBuffer(message);\n          this._sock.send(buf, 0, buf.length, this.port, this.host, callback);\n          break;\n        case 'string':\n          mes = new Message(args[0]);\n          for (let i = 1; i < args.length; i++) {\n            mes.append(args[i]);\n          }\n          buf = toBuffer(mes);\n          this._sock.send(buf, 0, buf.length, this.port, this.host, callback);\n          break;\n        default:\n          throw new TypeError('That Message Just Doesn\\'t Seem Right');\n      }\n    } catch (e) {\n      if (e.code !== 'ERR_SOCKET_DGRAM_NOT_RUNNING') throw e;\n      const error = new ReferenceError('Cannot send message on closed socket.');\n      error.code = e.code;\n      callback(error);\n    }\n  }\n}\nmodule.exports = Client;","map":{"version":3,"names":["node_dgram","require","oscMin","Message","toBuffer","Client","constructor","host","port","_sock","createSocket","type","reuseAddr","close","cb","send","args","message","callback","length","pop","Array","address","splice","mes","buf","i","append","TypeError","e","code","error","ReferenceError","module","exports"],"sources":["C:/Users/tmart/Desktop/Dissertacao/TourOfHeroes/tour-of-heroes-osc.js/tour-of-heroes/node_modules/node-osc/dist/lib/Client.js"],"sourcesContent":["'use strict';\n\nvar node_dgram = require('node:dgram');\nvar oscMin = require('osc-min');\nvar Message = require('./Message.js');\n\nconst { toBuffer } = oscMin;\n\nclass Client {\n  constructor(host, port) {\n    this.host = host;\n    this.port = port;\n    this._sock = node_dgram.createSocket({\n      type: 'udp4',\n      reuseAddr: true\n    });\n  }\n  close(cb) {\n    this._sock.close(cb);\n  }\n  send(...args) {\n    let message = args[0];\n    let callback;\n    if (typeof args[args.length - 1] === 'function') {\n      callback = args.pop();\n    }\n    else {\n      callback = () => {};\n    }\n\n    if (message instanceof Array) {\n      message = {\n        address: message[0],\n        args: message.splice(1)\n      };\n    }\n    \n    let mes;\n    let buf;\n    try {\n      switch (typeof message) {\n        case 'object':\n          buf = toBuffer(message);\n          this._sock.send(buf, 0, buf.length, this.port, this.host, callback);\n          break;\n        case 'string':\n          mes = new Message(args[0]);\n          for (let i = 1; i < args.length; i++) {\n            mes.append(args[i]);\n          }\n          buf = toBuffer(mes);\n          this._sock.send(buf, 0, buf.length, this.port, this.host, callback);\n          break;\n        default:\n          throw new TypeError('That Message Just Doesn\\'t Seem Right');\n      }\n    }\n    catch (e) {\n      if (e.code !== 'ERR_SOCKET_DGRAM_NOT_RUNNING') throw e;\n      const error = new ReferenceError('Cannot send message on closed socket.');\n      error.code = e.code;\n      callback(error);\n    }\n  }\n}\n\nmodule.exports = Client;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AACtC,IAAIC,MAAM,GAAGD,OAAO,CAAC,SAAS,CAAC;AAC/B,IAAIE,OAAO,GAAGF,OAAO,CAAC,cAAc,CAAC;AAErC,MAAM;EAAEG;AAAS,CAAC,GAAGF,MAAM;AAE3B,MAAMG,MAAM,CAAC;EACXC,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAE;IACtB,IAAI,CAACD,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,KAAK,GAAGT,UAAU,CAACU,YAAY,CAAC;MACnCC,IAAI,EAAE,MAAM;MACZC,SAAS,EAAE;IACb,CAAC,CAAC;EACJ;EACAC,KAAKA,CAACC,EAAE,EAAE;IACR,IAAI,CAACL,KAAK,CAACI,KAAK,CAACC,EAAE,CAAC;EACtB;EACAC,IAAIA,CAAC,GAAGC,IAAI,EAAE;IACZ,IAAIC,OAAO,GAAGD,IAAI,CAAC,CAAC,CAAC;IACrB,IAAIE,QAAQ;IACZ,IAAI,OAAOF,IAAI,CAACA,IAAI,CAACG,MAAM,GAAG,CAAC,CAAC,KAAK,UAAU,EAAE;MAC/CD,QAAQ,GAAGF,IAAI,CAACI,GAAG,CAAC,CAAC;IACvB,CAAC,MACI;MACHF,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACrB;IAEA,IAAID,OAAO,YAAYI,KAAK,EAAE;MAC5BJ,OAAO,GAAG;QACRK,OAAO,EAAEL,OAAO,CAAC,CAAC,CAAC;QACnBD,IAAI,EAAEC,OAAO,CAACM,MAAM,CAAC,CAAC;MACxB,CAAC;IACH;IAEA,IAAIC,GAAG;IACP,IAAIC,GAAG;IACP,IAAI;MACF,QAAQ,OAAOR,OAAO;QACpB,KAAK,QAAQ;UACXQ,GAAG,GAAGrB,QAAQ,CAACa,OAAO,CAAC;UACvB,IAAI,CAACR,KAAK,CAACM,IAAI,CAACU,GAAG,EAAE,CAAC,EAAEA,GAAG,CAACN,MAAM,EAAE,IAAI,CAACX,IAAI,EAAE,IAAI,CAACD,IAAI,EAAEW,QAAQ,CAAC;UACnE;QACF,KAAK,QAAQ;UACXM,GAAG,GAAG,IAAIrB,OAAO,CAACa,IAAI,CAAC,CAAC,CAAC,CAAC;UAC1B,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,IAAI,CAACG,MAAM,EAAEO,CAAC,EAAE,EAAE;YACpCF,GAAG,CAACG,MAAM,CAACX,IAAI,CAACU,CAAC,CAAC,CAAC;UACrB;UACAD,GAAG,GAAGrB,QAAQ,CAACoB,GAAG,CAAC;UACnB,IAAI,CAACf,KAAK,CAACM,IAAI,CAACU,GAAG,EAAE,CAAC,EAAEA,GAAG,CAACN,MAAM,EAAE,IAAI,CAACX,IAAI,EAAE,IAAI,CAACD,IAAI,EAAEW,QAAQ,CAAC;UACnE;QACF;UACE,MAAM,IAAIU,SAAS,CAAC,uCAAuC,CAAC;MAChE;IACF,CAAC,CACD,OAAOC,CAAC,EAAE;MACR,IAAIA,CAAC,CAACC,IAAI,KAAK,8BAA8B,EAAE,MAAMD,CAAC;MACtD,MAAME,KAAK,GAAG,IAAIC,cAAc,CAAC,uCAAuC,CAAC;MACzED,KAAK,CAACD,IAAI,GAAGD,CAAC,CAACC,IAAI;MACnBZ,QAAQ,CAACa,KAAK,CAAC;IACjB;EACF;AACF;AAEAE,MAAM,CAACC,OAAO,GAAG7B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}