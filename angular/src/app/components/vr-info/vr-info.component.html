
<h1>VR List Management</h1>

<ul class="headsets">
    <li *ngFor="let headset of headsetsList" [ngClass]="getStatusClass(headset.status)">

        <button *ngIf="!headset.isEdit" class="image-container-button-settings" (click)="onEdit(headset)">
            <img [src]="imagePathSettings" alt="Click here to edit this VrHeadset">
        </button>

        <button *ngIf="headset.isEdit" class="image-container-button-settings" (click)="headset.isEdit = false">
            <img [src]="imagePathSettings" alt="Click here to edit this VrHeadset">
        </button>


        <div class="image-container-vr">
          <img [src]="headset.isOnline ? imagePathQuest3 : imagePathQuest3Grey" alt="MetaQuest3">
        </div>

        

        <div class="vrinfo1">
            <div *ngIf="headset.isEdit" class="name">
                <input type="text" [(ngModel)]="headset.name">
            </div>
            <div *ngIf="!headset.isEdit" class="name">
                <span>{{ headset.name }}</span>
            </div>

            <div *ngIf="headset.isEdit" class="ipAddress">
                <input type="text" [(ngModel)]="headset.ipAddress">
            </div>
            <div *ngIf="!headset.isEdit" class="ipAddress">
                <span>{{ headset.ipAddress }}</span>
            </div>
            
        </div>
        <div class="vrinfo2">

            <div *ngIf="headset.isEdit" class="port">
                <input type="text" [(ngModel)]="headset.port">
            </div>
            <div *ngIf="!headset.isEdit" class="port">
                <span>{{ headset.port }}</span>
            </div>
    
            <div class="status">
                <span>{{ headset.status }}</span>    
            </div>
        </div>
        

        <button *ngIf="!headset.isEdit" class="image-container-button" (click)="sendDownloadAssetsOSC(headset)">
            <img [src]="imagePathUpload" alt="Click here to download VRHeadset assets">
        </button>
        
        <button *ngIf="headset.isEdit" class="image-container-button" (click)="updateVRHeadset(headset)">
            Confirm
        </button>
        <button *ngIf="headset.isEdit" class="image-container-button" (click)="deleteHeadset(headset)">
            Delete
        </button>

    </li>


<h1>Add a New VR Headset</h1>
<form (ngSubmit)="addVRHeadset()">
    <label for="ipAddress">IP Address:</label>
    <input type="text" id="ipAddress" [(ngModel)]="newHeadset.ipAddress" name="ipAddress" required>
    <br>
    <label for="port">Port:</label>
    <input type="text" id="port" [(ngModel)]="newHeadset.port" name="port" required>
    <br>
    <label for="name">Name:</label>
    <input type="text" id="name" [(ngModel)]="newHeadset.name" name="name" required>
    <br>
    <button type="submit">Add VR Headset</button>
</form>

<!--
<div>
    <button>
        <img [src]="imagePathAdd" alt="Click here to add a new VRHeadset to the DataBase.">
    </button>
</div>
-->