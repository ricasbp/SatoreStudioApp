
<h1>Director VR List Management</h1>

<ul class="headsets">
    <li *ngFor="let headset of headsetsList" [ngClass]="getStatusClass(headset.status)">

        <img class="image-container-vr" [src]="headset.status === 'offline' || headset.status === 'error'? imagePathQuest3Grey : imagePathQuest3" alt="MetaQuest3">

        <div class="vrinfo1">
            <div *ngIf="headset.isInEditMode" class="name">
                <input type="text" [(ngModel)]="headset.name">
            </div>
            <div *ngIf="!headset.isInEditMode" class="name">
                <span>{{ headset.name }}</span>
                <span class="status">{{ headset.status }}</span>
            </div>

            <div *ngIf="headset.isInEditMode" class="ipAddress">
                <input type="text" [(ngModel)]="headset.ipAddress">
                <input type="text" [(ngModel)]="headset.port">
            </div>
            <div *ngIf="!headset.isInEditMode" class="ipAddress">
                <span>{{ headset.ipAddress }}:{{ headset.port }}</span>
            </div>

        </div>

        <img 
        *ngIf="!headset.isInEditMode" 
        class="image-container-button-settings" 
        (click)="onEdit(headset)" 
        [src]="imagePathSettings" 
        alt="Click here to edit this VrHeadset">
        

        <img 
            *ngIf="headset.isInEditMode" 
            class="image-container-button-settings" 
            (click)="headset.isInEditMode = false"
            [src]="imagePathSettings" 
            alt="Click here to edit this VrHeadset">

        <!-- Rounded switch -->
        <label *ngIf="!headset.isInEditMode && headset.status !== 'offline'" class="switch">
            <input 
                type="checkbox" 
                [checked]="headset.directingMode" 
                (change)="activateDirectorMode(headset)"
            >
            <span class="slider round"></span>
        </label>  

        <!--
        <button *ngIf="headset.isInEditMode" class="image-container-button" (click)="updateVRHeadset(headset)">
            Confirm
        </button>
        -->
        
        <button *ngIf="headset.isInEditMode" class="image-container-button" (click)="deleteVRHeadset(headset)">
            Delete
        </button>

    </li>
</ul>

<div>
    <div *ngIf="isUserAddingNewVRHeadset">
        <li>
            <form (ngSubmit)="addVRHeadset()">

                <div class="vrinfo1">
                    
                <label for="ipAddress">IP Address:</label>
                <input type="text" id="ipAddress" [(ngModel)]="newHeadset.ipAddress" name="ipAddress" required>
                
                <label for="port">Port:</label>
                <input type="text" id="port" [(ngModel)]="newHeadset.port" name="port" required>
            
                <label for="name">Name:</label>
                <input type="text" id="name" [(ngModel)]="newHeadset.name" name="name" required>
                    
                </div>

                <button class="image-container-button" (click)="isUserAddingNewVRHeadset = false">
                    Cancel
                </button>
                
                <button class="image-container-button" type="submit">
                    Add VR Headset
                </button>
                
            </form>
        </li>
    </div>
</div>



<div class= "container-for-addButton-and-switch">
    <img *ngIf="!isUserAddingNewVRHeadset" 
        (click)="isUserAddingNewVRHeadset = true" 
        class="image-container-button-add" 
        [src]="imagePathAdd" 
        alt="Click here to add a new VRHeadset to the DataBase.">
    
    
    <p>Sync All:</p>
    <!-- Master switch to control all others -->
    <label class="switch" >
        <input type="checkbox" (change)="activateDirectorModeOnAll($event)">
        <span class="slider round"></span>
    </label>


</div>
